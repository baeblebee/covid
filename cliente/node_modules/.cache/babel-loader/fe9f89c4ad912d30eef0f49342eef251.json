{"ast":null,"code":"var _jsxFileName = \"/var/www/html/covid/cliente/src/pages/Login/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\nimport { toast } from 'react-toastify';\nimport { Content, Form, Footer } from './styles';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const data = new FormData();\n      data.append('email', this.state.email);\n      data.append('password', this.state.password);\n\n      try {\n        const response = await api.post(\"/authenticate\", data);\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', response.data.user);\n        localStorage.setItem('id', response.data.id);\n        this.setState({\n          loading: false\n        });\n        this.props.history.push('/');\n      } catch (error) {\n        toast.error('Email ou senha incorretos');\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      loading: false\n    };\n  }\n\n  render() {\n    const loading = this.state.loading;\n    return React.createElement(React.Fragment, null, React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Form, {\n      method: \"POST\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Entrar no Twitter\"), React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"E-mail\",\n      required: true,\n      onChange: this.handleChange,\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Senha\",\n      required: true,\n      onChange: this.handleChange,\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, loading ? 'Carregando...' : 'Entrar'))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Novo no Twitter? \", React.createElement(Link, {\n      to: \"/cadastrar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Inscreva-se agora\")));\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/covid/cliente/src/pages/Login/index.js"],"names":["React","Component","Link","api","toast","Content","Form","Footer","Login","constructor","props","handleSubmit","e","preventDefault","setState","loading","data","FormData","append","state","email","password","response","post","localStorage","setItem","token","user","id","history","push","error","handleChange","target","name","value","render"],"mappings":"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","sourcesContent":["import  React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\nimport { toast } from 'react-toastify';\nimport { Content, Form, Footer } from './styles';\nexport default class Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            loading: false,\n        };\n    }\n    handleSubmit = async (e) => {\n        e.preventDefault();\n        this.setState({ loading: true });\n        const data = new FormData();\n        data.append('email', this.state.email);\n        data.append('password', this.state.password);\n        try {\n            const response = await api.post(`/authenticate`, data);\n            localStorage.setItem('token', response.data.token);\n            localStorage.setItem('user', response.data.user);\n            localStorage.setItem('id', response.data.id);\n            this.setState({ loading: false });\n            this.props.history.push('/');\n        } catch (error) {\n            toast.error('Email ou senha incorretos');\n            this.setState({ loading: false });\n        }\n    };\n    handleChange = e => {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n    render() {\n        const { loading } = this.state;\n        return (\n            <>\n                <Content>\n                    <Form method=\"POST\" onSubmit={this.handleSubmit}>\n                        <h1>Entrar no Twitter</h1>\n                        <input name=\"email\" type=\"email\" placeholder=\"E-mail\" required\n                        onChange={this.handleChange} value={this.state.email}/>\n                        <input name=\"password\" type=\"password\" placeholder=\"Senha\" required\n                        onChange={this.handleChange} value={this.state.password}/>\n                        <button type=\"submit\">{loading ? 'Carregando...' : 'Entrar'}</button>\n                    </Form>\n                </Content>\n                <Footer>\n                    Novo no Twitter? <Link to=\"/cadastrar\">Inscreva-se agora</Link>\n                </Footer>\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}