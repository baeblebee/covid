{"ast":null,"code":"var _jsxFileName = \"/var/www/html/covid/cliente/src/pages/Cadastro/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\nimport { toast } from 'react-toastify';\nimport { Content, Form, Footer } from './styles';\nexport default class Cadastro extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const data = new FormData();\n      data.append('username', this.state.username);\n      data.append('email', this.state.email);\n      data.append('password', this.state.password);\n\n      try {\n        await api.post(\"/register\", data);\n        toast.success('Usuário inserido com sucesso');\n        this.setState({\n          loading: false\n        });\n        this.props.history.push('/login');\n      } catch (error) {\n        toast.error('Falha ao inserir usuário');\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      loading: false\n    };\n  }\n\n  render() {\n    const loading = this.state.loading;\n    return React.createElement(React.Fragment, null, React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Form, {\n      method: \"POST\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"hi\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Criar sua conta\"), React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Nome\",\n      required: true,\n      onChange: this.handleChange,\n      value: this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"E-mail\",\n      required: true,\n      onChange: this.handleChange,\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Senha\",\n      required: true,\n      onChange: this.handleChange,\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, loading ? 'Carregando...' : 'Cadastrar'))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"J\\xE1 tenho um cadastro? \", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Fa\\xE7a o seu login agora\")));\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/covid/cliente/src/pages/Cadastro/index.js"],"names":["React","Component","Link","api","toast","Content","Form","Footer","Cadastro","constructor","props","handleSubmit","e","preventDefault","setState","loading","data","FormData","append","state","username","email","password","post","success","history","push","error","handleChange","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../../services/api';\nimport { toast } from 'react-toastify';\nimport { Content, Form, Footer } from './styles';\nexport default class Cadastro extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            loading: false,\n        };\n    }\n    handleSubmit = async (e) => {\n        e.preventDefault();\n        this.setState({ loading: true });\n        const data = new FormData();\n        data.append('username', this.state.username);\n        data.append('email', this.state.email);\n        data.append('password', this.state.password);\n        try {\n            await api.post(`/register`, data);\n            toast.success('Usuário inserido com sucesso');\n            this.setState({ loading: false });\n            this.props.history.push('/login');\n        }catch (error){\n            toast.error('Falha ao inserir usuário');\n            this.setState({ loading: false });\n        }\n    };\n    handleChange = e => {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n    render() {\n        const { loading } = this.state;\n        return (\n            <>\n                <Content>\n                    <Form method=\"POST\" onSubmit={this.handleSubmit}>\n                        <hi>Criar sua conta</hi>\n                        <input name=\"username\" type=\"text\" placeholder=\"Nome\" required \n                        onChange={this.handleChange} value={this.state.username}/>\n                        <input name=\"email\" type=\"email\" placeholder=\"E-mail\" required \n                        onChange={this.handleChange} value={this.state.email}/>\n                        <input name=\"password\" type=\"password\" placeholder=\"Senha\" required \n                        onChange={this.handleChange} value={this.state.password}/>\n\n                        <button type=\"submit\">{loading ? 'Carregando...': 'Cadastrar'}</button>\n                    </Form>\n                </Content>\n                <Footer>\n                    Já tenho um cadastro? <Link to=\"/login\">Faça o seu login agora</Link>\n                </Footer>\n            </>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}